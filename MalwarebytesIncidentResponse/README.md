Recipe for Malwarebytes [Incident Response](https://www.malwarebytes.com/business/incident-response)

## Requirements

Your recipe override will need variables set. Instructions for finding them can be found below. When you create the API credentials it is recommended you use a Read Only key.

- #### CLIENT_ID
    -   You can retrieve your CLIENT_ID credentials in your Nebula console by going to Settings > API Access. It is recommned

* #### CLIENT_SECRET
    - You can retrieve your CLIENT_SECRET credentials in your Nebula console by going to Settings > API Access.

* #### ACCOUNT_ID
    - Log into the [Malwarebytes Nebula Console](https://cloud.malwarebytes.com/auth/login).
    - In the browser's address bar, copy your Account ID.
    - Your Account ID is the string of alphanumeric characters and dashes. `https://cloud.malwarebytes.com/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/dashboard`

- #### ACCOUNT_TOKEN
    - This is needed if you use the munki recipe to automatically enroll it upon installation.
        - Log into the [Malwarebytes Nebula Console](https://cloud.malwarebytes.com/auth/login).
        - Go to Downloads.
        - In the Mac section, click Download to download the Mac Endpoint Installer to your local device.
        - The `__xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx___` is your accounttoken value, Just remove the leading and trailing `__`

### Notes:
This will work well If you are an Incident Response customer. I would imagine it would work well for other Malwarebytes Nebula based products. Feel free to open Pull Requests/Issues if you use a different product and this recipe doesn't suffice.

In the munki recipe the pkginfo version of the package is pulled from the API as the actual package version is just 1.0. The API version number appears to slightly different from the actual app version contained in the package. (API: `1.6.508` vs App: `1.6.0.508`). It is known that providing consistant version numbers is very hard to do. :joy: This should not impact how munki checks for installs as it uses the
`CFBundleVersion` contained within the app.

From my testing the downloads contained within the Nebula Console seem to be out of date by a few minor/patch versions. It is very possible to see the App automatically update itself to a newer version immediately than what offered via the API.  Please file a bug/feedback with Malwarebytes to get this addressed.
